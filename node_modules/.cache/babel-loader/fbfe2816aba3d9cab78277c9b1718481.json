{"ast":null,"code":"var _jsxFileName = \"D:\\\\myCode\\\\todos-react\\\\src\\\\App.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { memo, useState, useEffect } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport { PlanWrapper, MoneyTotal } from './style/index';\nimport { Form, Row, Col, Input, Select, Button } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\nconst Compelet = /*#__PURE__*/memo(_c = ({\n  done,\n  index,\n  cancleCompleteTodo\n}) => {\n  const handleChange = () => {\n    cancleCompleteTodo(index);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"done-item\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"checkbox\",\n      id: index,\n      checked: true,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textDecoration: 'line-through'\n      },\n      children: [\" \", done.plan]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"\\u20BD\", done.lubu ? done.lubu.toFixed(5) : 0]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"\\uFFE5\", done.rmb ? done.rmb.toFixed(5) : 0]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"$\", done.dollar ? done.dollar.toFixed(5) : 0]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 10\n  }, this);\n});\n_c2 = Compelet;\nconst Todo = /*#__PURE__*/memo(_c3 = ({\n  todo,\n  index,\n  completeTodo\n}) => {\n  const handleChange = () => {\n    completeTodo(index);\n    return false;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"todo-item\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"checkbox\",\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", todo.plan]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"\\u20BD\", todo.lubu ? todo.lubu.toFixed(5) : 0]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"\\uFFE5\", todo.rmb ? todo.rmb.toFixed(5) : 0]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"$\", todo.dollar ? todo.dollar.toFixed(5) : 0]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 10\n  }, this);\n});\n_c4 = Todo;\nconst TodoForm = /*#__PURE__*/memo(_c5 = _s(({\n  addTodo\n}) => {\n  _s();\n\n  const [data, setData] = useState({});\n  const [usdValue, setUsdValue] = useState(0);\n  const [rubValue, setRubValue] = useState(0);\n  useEffect(async () => {\n    const result = await axios(`https://api.globus.furniture/forex`);\n    console.log(result);\n    setData(result.data);\n    setUsdValue(result.data.USD.value);\n    setRubValue(result.data.RUB.value);\n  }, []);\n\n  const OnFinish = values => {\n    if (values.tprice === 'lubu') {\n      addTodo({\n        plan: values.plan,\n        lubu: values.price / 1,\n        rmb: values.price / rubValue,\n        dollar: values.price / rubValue / usdValue\n      });\n    } else if (values.tprice === 'rmb') {\n      addTodo({\n        plan: values.plan,\n        lubu: values.price * rubValue,\n        rmb: values.price / 1,\n        dollar: values.price * rubValue\n      });\n    } else {\n      addTodo({\n        plan: values.plan,\n        lubu: values.price / usdValue * rubValue,\n        rmb: values.price / usdValue,\n        dollar: values.price * rubValue\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onFinish: OnFinish,\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      gutter: 12,\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        span: 8,\n        children: /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"plan\",\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            placeholder: \"\\u4EFB\\u52A1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 52\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 6,\n        children: /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"price\",\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            placeholder: \"\\u4EF7\\u683C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 6,\n        children: /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"tprice\",\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            placeholder: \"\\u8D27\\u5E01\\u7C7B\\u578B\",\n            children: [/*#__PURE__*/_jsxDEV(Option, {\n              value: \"lubu\",\n              children: \"\\u5362\\u6BD4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Option, {\n              value: \"rmb\",\n              children: \"\\u4EBA\\u6C11\\u5E01\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Option, {\n              value: \"dollar\",\n              children: \"\\u7F8E\\u5143\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          htmlType: \"submit\",\n          children: \"\\u6DFB\\u52A0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 10\n  }, this);\n}, \"3/d7v73fVHaDr+tssCQcQ2KypVI=\"));\n_c6 = TodoForm;\n\nconst App = () => {\n  _s2();\n\n  const [todos, setTodo] = useState([{\n    plan: '去吃麻辣烫',\n    lubu: 1,\n    rmb: 0.08707,\n    dollar: 0.01323,\n    done: false\n  }, {\n    plan: '去吃海底捞',\n    lubu: 1,\n    rmb: 0.08707,\n    dollar: 0.01323,\n    done: false\n  }]);\n  const [done, setDone] = useState([]);\n\n  const addTodo = text => {\n    const newTodos = [...todos, text];\n    setTodo(newTodos);\n  };\n\n  const addDone = text => {\n    const newDone = [...done, text];\n    setDone(newDone);\n  }; // 完成任务的方法\n\n\n  const completeTodo = index => {\n    const newTodos = [...todos];\n    addDone(newTodos[index]);\n    newTodos.splice(index, 1);\n    setTodo(newTodos);\n  }; // 取消已完成的任务\n\n\n  const cancleCompleteTodo = index => {\n    const newDone = [...done];\n    console.log(newDone[index]);\n    addTodo(newDone[index]);\n    newDone.splice(index, 1);\n    setDone(newDone);\n  }; // 消费金额\n\n\n  const [rubTotal, setRubTotal] = useState(0);\n  const [rmbTotal, setRmbTotal] = useState(0);\n  const [usdTotal, setUsdTotal] = useState(0);\n  useEffect(() => {\n    let money = todos.reduce((p, c) => {\n      Object.keys(p).forEach(k => p[k] += parseFloat(c[k]));\n      return p;\n    }, {\n      lubu: 0,\n      rmb: 0,\n      dollar: 0\n    });\n    setRubTotal(money.lubu);\n    setRmbTotal(money.rmb);\n    setUsdTotal(money.dollar);\n  }, [todos]); // 已消费金额\n\n  const [rubTotal2, setRubTotal2] = useState(0);\n  const [rmbTotal2, setRmbTotal2] = useState(0);\n  const [usdTotal2, setUsdTotal2] = useState(0);\n  useEffect(() => {\n    let money = done.reduce((p, c) => {\n      Object.keys(p).forEach(k => p[k] += parseFloat(c[k]));\n      return p;\n    }, {\n      lubu: 0,\n      rmb: 0,\n      dollar: 0\n    });\n    setRubTotal2(money.lubu);\n    setRmbTotal2(money.rmb);\n    setUsdTotal2(money.dollar);\n  }, [done]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"todos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TodoForm, {\n      addTodo: addTodo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PlanWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-title\",\n        children: \"\\u8BA1\\u5212\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"todo-list\",\n        children: todos.map((todo, index) => {\n          return /*#__PURE__*/_jsxDEV(Todo, {\n            todo: todo,\n            index: index,\n            completeTodo: completeTodo\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 20\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(MoneyTotal, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u5C06\\u8981\\u82B1\\u8D39: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u20BD\", rubTotal.toFixed(5)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 38\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\uFFE5\", rmbTotal.toFixed(5)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 74\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"$\", usdTotal.toFixed(5)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 110\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-title compelet\",\n        children: \"\\u5DF2\\u5B8C\\u6210\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"done-list\",\n        children: done ? done.map((done, index) => {\n          return /*#__PURE__*/_jsxDEV(Compelet, {\n            done: done,\n            index: index,\n            cancleCompleteTodo: cancleCompleteTodo\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 20\n          }, this);\n        }) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(MoneyTotal, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u5DF2\\u7ECF\\u82B1\\u8D39: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u20BD\", rubTotal2.toFixed(5)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 38\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\uFFE5\", rmbTotal2.toFixed(5)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 75\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"$\", usdTotal2.toFixed(5)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 112\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(App, \"FVwD38N4DtHVD/qFBrb0nEmPwyw=\");\n\n_c7 = App;\nexport default App;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Compelet$memo\");\n$RefreshReg$(_c2, \"Compelet\");\n$RefreshReg$(_c3, \"Todo$memo\");\n$RefreshReg$(_c4, \"Todo\");\n$RefreshReg$(_c5, \"TodoForm$memo\");\n$RefreshReg$(_c6, \"TodoForm\");\n$RefreshReg$(_c7, \"App\");","map":{"version":3,"sources":["D:/myCode/todos-react/src/App.js"],"names":["React","memo","useState","useEffect","axios","PlanWrapper","MoneyTotal","Form","Row","Col","Input","Select","Button","Option","Compelet","done","index","cancleCompleteTodo","handleChange","textDecoration","plan","lubu","toFixed","rmb","dollar","Todo","todo","completeTodo","TodoForm","addTodo","data","setData","usdValue","setUsdValue","rubValue","setRubValue","result","console","log","USD","value","RUB","OnFinish","values","tprice","price","App","todos","setTodo","setDone","text","newTodos","addDone","newDone","splice","rubTotal","setRubTotal","rmbTotal","setRmbTotal","usdTotal","setUsdTotal","money","reduce","p","c","Object","keys","forEach","k","parseFloat","rubTotal2","setRubTotal2","rmbTotal2","setRmbTotal2","usdTotal2","setUsdTotal2","map"],"mappings":"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","sourcesContent":["import React,{memo,useState,useEffect} from 'react'\nimport './App.css';\nimport axios from 'axios'\nimport {PlanWrapper,MoneyTotal} from './style/index'\nimport {Form,Row,Col,Input,Select,Button} from 'antd'\nconst { Option } = Select;\n\nconst Compelet=memo(({done,index,cancleCompleteTodo})=>{\n  const handleChange =()=>{\n    cancleCompleteTodo(index)\n  }\n  return <div className=\"done-item\">\n        <input type=\"checkbox\" id={index} checked onChange={handleChange}/>\n        <div style={{textDecoration:'line-through'}}> {done.plan}</div>\n        <div>₽{done.lubu?done.lubu.toFixed(5):0}</div>\n        <div>￥{done.rmb?done.rmb.toFixed(5):0}</div>\n        <div>${done.dollar?done.dollar.toFixed(5):0}</div>\n  </div>\n})\nconst Todo=memo(({todo,index,completeTodo})=>{\n  const handleChange =()=>{\n    completeTodo(index)\n    return false\n  }\n  return <div className=\"todo-item\">\n          <input type=\"checkbox\" onChange={handleChange}/>\n          <div> {todo.plan}</div>\n          <div>₽{todo.lubu?todo.lubu.toFixed(5):0}</div>\n          <div>￥{todo.rmb?todo.rmb.toFixed(5):0}</div>\n          <div>${todo.dollar?todo.dollar.toFixed(5):0}</div>\n        </div> \n                  \n})\nconst TodoForm=memo(({addTodo})=>{\n  const [data,setData]=useState({})\n  const [usdValue,setUsdValue]=useState(0)\n  const [rubValue,setRubValue]=useState(0)\n\n  useEffect(async()=>{\n      const result=await axios(`https://api.globus.furniture/forex`)\n      console.log(result) \n      setData(result.data)\n      setUsdValue(result.data.USD.value)\n      setRubValue(result.data.RUB.value)\n    },[])\n\n  const OnFinish=(values)=>{\n    if (values.tprice==='lubu') {\n      addTodo({\n        plan:values.plan,\n        lubu:values.price/1,\n        rmb:values.price/rubValue,\n        dollar:values.price/rubValue/usdValue\n      })\n    }else if(values.tprice==='rmb'){\n      addTodo({\n        plan:values.plan,\n        lubu:values.price*rubValue,\n        rmb:values.price/1,\n        dollar:values.price*rubValue\n      })\n    }else{\n      addTodo({\n        plan:values.plan,\n        lubu:values.price/usdValue*rubValue,\n        rmb:values.price/usdValue,\n        dollar:values.price*rubValue\n      })\n    }\n  }\n  return <Form onFinish={OnFinish}>\n            <Row gutter={12}>\n              <Col span={8}><Form.Item name=\"plan\"><Input type=\"text\" placeholder=\"任务\"/></Form.Item></Col>\n              <Col span={6}><Form.Item name=\"price\"><Input type=\"text\" placeholder=\"价格\" /></Form.Item></Col>\n              <Col span={6}><Form.Item name=\"tprice\">\n                <Select placeholder=\"货币类型\">\n                        <Option value=\"lubu\">卢比</Option>\n                        <Option value=\"rmb\">人民币</Option>\n                        <Option value=\"dollar\">美元</Option>\n                </Select>\n              </Form.Item>\n              </Col>\n              <Form.Item>\n                  <Button type=\"primary\" htmlType=\"submit\">\n                    添加\n                  </Button>\n              </Form.Item>\n              </Row>\n          </Form>  \n        \n})\nconst App=()=>{\n  const [todos,setTodo]=useState([\n    { \n      plan:'去吃麻辣烫',\n      lubu:1,\n      rmb:0.08707,\n      dollar:0.01323,\n      done:false\n    },\n    {\n      plan:'去吃海底捞',\n      lubu:1,\n      rmb:0.08707,\n      dollar:0.01323,\n      done:false\n    }\n  ])\n  const [done,setDone]=useState([])\n\n  const addTodo = (text)=>{\n    const newTodos=[...todos,text]\n    setTodo(newTodos)\n\n  }\n  const addDone = (text)=>{\n    const newDone=[...done,text]\n    setDone(newDone)\n  }\n\n  // 完成任务的方法\n  const completeTodo = (index)=>{\n    const newTodos=[...todos]\n    addDone(newTodos[index])\n    newTodos.splice(index,1)\n    setTodo(newTodos)\n  }\n\n  // 取消已完成的任务\n  const cancleCompleteTodo = (index)=>{\n    const newDone=[...done]\n    console.log(newDone[index]);\n    addTodo(newDone[index])\n    newDone.splice(index,1)\n    setDone(newDone)\n  }\n\n  // 消费金额\n  const [rubTotal,setRubTotal]=useState(0)\n  const [rmbTotal,setRmbTotal]=useState(0)\n  const [usdTotal,setUsdTotal]=useState(0)\n  useEffect(()=>{\n    let money  =todos.reduce((p,c) => {\n      Object.keys(p).forEach(k=>p[k]+=parseFloat(c[k]))\n        return p\n    }, {lubu: 0, rmb: 0, dollar:0})\n    setRubTotal(money.lubu)\n    setRmbTotal(money.rmb)\n    setUsdTotal(money.dollar)\n  },[todos])\n\n  // 已消费金额\n  const [rubTotal2,setRubTotal2]=useState(0)\n  const [rmbTotal2,setRmbTotal2]=useState(0)\n  const [usdTotal2,setUsdTotal2]=useState(0)\n  useEffect(()=>{\n    let money  =done.reduce((p,c) => {\n      Object.keys(p).forEach(k=>p[k]+=parseFloat(c[k]))\n        return p\n    }, {lubu: 0, rmb: 0, dollar:0})\n    setRubTotal2(money.lubu)\n    setRmbTotal2(money.rmb)\n    setUsdTotal2(money.dollar)\n  },[done])\n\n  return (\n    <div className=\"App\">\n      <h1>todos</h1>\n      <TodoForm addTodo={addTodo}></TodoForm>\n      <PlanWrapper>\n      <div className=\"form-title\">\n        计划\n      </div>\n      <div className=\"todo-list\">\n        { \n          todos.map((todo,index)=>{\n            return <Todo key={index} todo={todo} index={index} completeTodo={completeTodo}></Todo>    \n          })\n        }\n      </div>\n      <MoneyTotal><span>将要花费: </span><span>₽{rubTotal.toFixed(5)}</span> <span>￥{rmbTotal.toFixed(5)}</span> <span>${usdTotal.toFixed(5)}</span></MoneyTotal>\n      <div className=\"form-title compelet\">\n        已完成\n      </div>\n      {/* <Complete cancleCompleteTodo={cancleCompleteTodo}></Complete> */}\n      <div className=\"done-list\">\n        {\n          \n          done?done.map((done,index)=>{\n            return <Compelet key={index} done={done} index={index} cancleCompleteTodo={cancleCompleteTodo}></Compelet>\n          }):null\n        }\n      </div>\n      <MoneyTotal><span>已经花费: </span><span>₽{rubTotal2.toFixed(5)}</span> <span>￥{rmbTotal2.toFixed(5)}</span> <span>${usdTotal2.toFixed(5)}</span></MoneyTotal>\n      </PlanWrapper>\n     \n      {/* <Add />\n      <TodoPlan /> */}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}